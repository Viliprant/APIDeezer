{"code":"!function(t){var e={};function r(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(o,i,function(e){return t[e]}.bind(null,i));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=1)}([function(t,e,r){t.exports=function(){function t(t){var e=this._getSettings(t);if(this.notFoundHandler=e.page404,this.mode=window.history&&window.history.pushState?e.mode:\"hash\",this.root=\"/\"===e.root?\"/\":\"/\"+this._trimSlashes(e.root)+\"/\",this.beforeHook=e.hooks.before,this.securityHook=e.hooks.secure,this.routes=[],e.routes&&e.routes.length>0){var r=this;e.routes.forEach(function(t){r.add(t.rule,t.handler,t.options)})}return this._pageState=null,this._currentPage=null,this._skipCheck=!1,this._action=null,\"hash\"===this.mode&&(this._historyStack=[],this._historyIdx=0,this._historyState=\"add\"),this}return t.Page=function(t,e,r,o,i){this.uri=t||\"\",this.query=e||{},this.params=r||[],this.state=o||null,this.options=i||{}},t.prototype._getSettings=function(t){var e={},r={routes:[],mode:\"history\",root:\"/\",hooks:{before:function(){},secure:function(){return!0}},page404:function(t){console.error({page:t,message:\"404. Page not found\"})}};return t=t||{},[\"routes\",\"mode\",\"root\",\"page404\"].forEach(function(o){e[o]=t[o]||r[o]}),e.hooks=Object.assign({},r.hooks,t.hooks||{}),e},t.prototype._getHistoryFragment=function(){var t=decodeURI(window.location.pathname);return\"/\"!==this.root&&(t=t.replace(this.root,\"\")),this._trimSlashes(t)},t.prototype._getHashFragment=function(){var t=window.location.hash.substr(1).replace(/(\\?.*)$/,\"\");return this._trimSlashes(t)},t.prototype._getFragment=function(){return\"history\"===this.mode?this._getHistoryFragment():this._getHashFragment()},t.prototype._trimSlashes=function(t){return\"string\"!=typeof t?\"\":t.toString().replace(/\\/$/,\"\").replace(/^\\//,\"\")},t.prototype._page404=function(e){this._currentPage=new t.Page(e),this.notFoundHandler(e)},t.prototype._parseRouteRule=function(t){if(\"string\"!=typeof t)return t;var e=this._trimSlashes(t).replace(/([\\\\\\/\\-\\_\\.])/g,\"\\\\$1\").replace(/\\{[a-zA-Z]+\\}/g,\"(:any)\").replace(/\\:any/g,\"[\\\\w\\\\-\\\\_\\\\.]+\").replace(/\\:word/g,\"[a-zA-Z]+\").replace(/\\:num/g,\"\\\\d+\");return new RegExp(\"^\"+e+\"$\",\"i\")},t.prototype._parseQuery=function(t){var e={};return\"string\"!=typeof t?e:(\"?\"===t[0]&&(t=t.substr(1)),this._queryString=t,t.split(\"&\").forEach(function(t){var r=t.split(\"=\");\"\"!==r[0]&&(void 0===r[1]&&(r[1]=!0),e[decodeURIComponent(r[0])]=r[1])}),e)},t.prototype._getHistoryQuery=function(){return this._parseQuery(window.location.search)},t.prototype._getHashQuery=function(){var t=window.location.hash.indexOf(\"?\"),e=-1!==t?window.location.hash.substr(t):\"\";return this._parseQuery(e)},t.prototype._getQuery=function(){return\"history\"===this.mode?this._getHistoryQuery():this._getHashQuery()},t.prototype.add=function(t,e,r){return this.routes.push({rule:this._parseRouteRule(t),handler:e,options:r}),this},t.prototype.remove=function(t){var e=this;return\"string\"==typeof t&&(t=this._parseRouteRule(t).toString()),this.routes.some(function(r,o){return(r.handler===t||r.rule.toString()===t)&&(e.routes.splice(o,1),!0)}),this},t.prototype.reset=function(){return this.routes=[],this.mode=null,this.root=\"/\",this._pageState={},this.removeUriListener(),this},t.prototype._pushHistory=function(){var t=this._getFragment();\"hash\"===this.mode&&(\"add\"===this._historyState&&(this._historyIdx!==this._historyStack.length-1&&this._historyStack.splice(this._historyIdx+1),this._historyStack.push({path:t,state:this._pageState}),this._historyIdx=this._historyStack.length-1),this._historyState=\"add\")},t.prototype._unloadCallback=function(t){var e;return this._skipCheck?!t||Promise.resolve(!0):this._currentPage&&this._currentPage.options&&this._currentPage.options.unloadCb?(e=this._currentPage.options.unloadCb(this._currentPage,t),!t||e instanceof Promise?e:e?Promise.resolve(e):Promise.reject(e)):!t||Promise.resolve(!0)},t.prototype._findRoute=function(){var e=this,r=this._getFragment();return this.routes.some(function(o){var i=r.match(o.rule);if(i){i.shift();var s=e._getQuery(),n=new t.Page(r,s,i,e._pageState,o.options);return!!e.securityHook(n)&&(e._currentPage=n,e._skipCheck?(e._skipCheck=!1,!0):(e.beforeHook(n),o.handler.apply(n,i),e._pageState=null,window.onbeforeunload=function(t){if(!e._unloadCallback(!1))return t.returnValue=!0,!0},!0))}return!1})},t.prototype._treatAsync=function(){var t;(t=this._currentPage.options.unloadCb(this._currentPage,!0))instanceof Promise||(t=t?Promise.resolve(t):Promise.reject(t)),t.then(this._processUri.bind(this)).catch(this._resetState.bind(this))},t.prototype._resetState=function(){this._skipCheck=!0,this.navigateTo(this._current,this._currentPage.state,!0)},t.prototype._processUri=function(){var t=this._getFragment();this._current=t,this._pushHistory(),this._findRoute.call(this)||this._page404(t)},t.prototype.check=function(){return this._skipCheck?this:(this._currentPage&&this._currentPage.options&&this._currentPage.options.unloadCb?this._treatAsync():this._processUri(),this)},t.prototype.addUriListener=function(){return\"history\"===this.mode?window.onpopstate=this.check.bind(this):window.onhashchange=this.check.bind(this),this},t.prototype.removeUriListener=function(){return window.onpopstate=null,window.onhashchange=null,this},t.prototype.redirectTo=function(t,e,r){return t=this._trimSlashes(t)||\"\",this._pageState=e||null,this._skipCheck=!!r,\"history\"===this.mode?(history.replaceState(e,null,this.root+this._trimSlashes(t)),this.check()):(this._historyIdx--,window.location.hash=t,this)},t.prototype.navigateTo=function(t,e,r){return t=this._trimSlashes(t)||\"\",this._pageState=e||null,this._skipCheck=!!r,\"history\"===this.mode?(history.pushState(e,null,this.root+this._trimSlashes(t)),this.check()):(window.location.hash=t,this)},t.prototype.refresh=function(){if(!this._currentPage)return this;var t=this._currentPage.uri+\"?\"+this._queryString;return this.navigateTo(t,this._currentPage.state)},t.prototype.back=function(){return\"history\"===this.mode?(window.history.back(),this):this.go(this._historyIdx-1)},t.prototype.forward=function(){return\"history\"===this.mode?(window.history.forward(),this):this.go(this._historyIdx+1)},t.prototype.go=function(t){if(\"history\"===this.mode)return window.history.go(t),this;var e=this._historyStack[t];return e?(this._historyIdx=t,this._historyState=\"hold\",this.navigateTo(e.path,e.state)):this},t}()},function(t,e,r){\"use strict\";r.r(e);var o=r(0);let i=new(r.n(o).a)({mode:\"hash\"});i.add(\"/Home\",function(t){console.log(\"Home\")}),i.add(\"/Search\",function(t){console.log(\"Search\")}),i.add(\"/Favorites\",function(t){console.log(\"Favorites\")}),i.addUriListener(),i.check();console.log(\"hello world\")}]);","extractedComments":[]}